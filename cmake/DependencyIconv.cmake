# Optional external dependency: iconv
IF (USE_ICONV)
	FIND_PACKAGE(Iconv)
ENDIF()
IF (ICONV_FOUND)
	SET(GIT_USE_ICONV 1 PARENT_SCOPE)
	ADD_LIBRARY(Iconv INTERFACE)
	TARGET_LINK_LIBRARIES(Iconv INTERFACE ${ICONV_LIBRARIES})
	TARGET_INCLUDE_DIRECTORIES(Iconv INTERFACE ${ICONV_INCLUDE_DIR})
	LIST(APPEND LIBGIT2_PC_LIBS ${ICONV_LIBRARIES})
	ADD_FEATURE_INFO(iconv ON "using libiconv")
ELSE()
	ADD_LIBRARY(Iconv INTERFACE)
	ADD_FEATURE_INFO(iconv OFF "using libiconv")
ENDIF()
