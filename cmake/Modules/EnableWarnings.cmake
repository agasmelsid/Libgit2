MACRO(ENABLE_WARNINGS flag)
	IF(${ARGC} EQUAL 2)
		IF (${ARGV1} STREQUAL "ERROR")
			SET(ENABLE_WARNING_AS_ERROR ON)
		ENDIF()
	ENDIF()
	IF(ENABLE_WERROR OR ENABLE_WARNING_AS_ERROR)
		ADD_C_FLAG_IF_SUPPORTED(-Werror=${flag})
	ELSE()
		ADD_C_FLAG_IF_SUPPORTED(-W${flag})
	ENDIF()
	UNSET(ENABLE_WARNING_AS_ERROR)
ENDMACRO()

MACRO(DISABLE_WARNINGS flag)
	ADD_C_FLAG_IF_SUPPORTED(-Wno-${flag})
	IF(ENABLE_WERROR)
		ADD_C_FLAG_IF_SUPPORTED(-Wno-error=${flag})
	ENDIF()
ENDMACRO()
